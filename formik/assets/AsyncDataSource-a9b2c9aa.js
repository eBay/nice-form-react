import{j as n,F as h,r as o,av as y,a as m,N as f,B as p}from"./index-bc8c4064.js";const r={China:["Beijing","Shanghai","Nanjing"],USA:["New York","San Jose","Washton"],France:["Paris","Marseille","Cannes"]},g=t=>new Promise((i,s)=>{setTimeout(()=>{r[t]?i(r[t]):s(new Error("Not found"))},1500)}),C=()=>{const[t,i]=o.useState({}),{values:s,setFieldValue:l}=y(),e=s.country,a=e&&!t[e],c={rowGap:18,fields:[{key:"country",label:"Country",widget:"select",options:["China","USA","France"],placeholder:"Select country...",initialValue:"China",widgetProps:{fullWidth:!0,onChange:()=>{l("city",void 0,!0)}}},{key:"city",label:"City",widget:"select",options:e?t[e]||[]:[],widgetProps:{fullWidth:!0,placeholder:a?"Loading...":"Select city..."},disabled:a||!e}]};return o.useEffect(()=>{e&&!t[e]&&g(e).then(u=>{i(d=>({...d,[e]:u}))})},[e,i,t]),n.jsxs(m,{style:{width:800},children:[n.jsx(f,{meta:c}),n.jsx(p,{type:"submit",variant:"contained",style:{marginTop:18},children:"Submit"})]})};function S(){return n.jsx(h,{initialValues:{country:"China"},onSubmit:async t=>{await new Promise(i=>setTimeout(i,2e3)),alert(JSON.stringify(t,null,2))},children:n.jsx(C,{})})}export{S as default};
